description = "Apache Tapestry 5 Project"

project.ext.versions = [
    // Remember that when generating a release, this should be incremented. Also don"t forget to
    // tag the release in Git.
    tapestry  : "5.3.9",
    jetty     : "7.6.9.v20130131",
    tomcat    : "6.0.30",
    testng    : "5.14.10",
    easymock  : "3.0",
    servletapi: "2.5",
    spock     : "0.6-groovy-1.8"
]

allprojects {
    group = "org.apache.tapestry"
    version = "5.3.9-beta-1"
}

subprojects {
    apply plugin: "java"
    apply plugin: "maven-publish"
    apply plugin: "signing"

    group = project.group
    version = project.version

    sourceCompatibility = "1.8"
    targetCompatibility = "1.8"

    repositories {
        mavenCentral()
    }

    test {
        useTestNG()
        options.suites("src/test/conf/testng.xml")
    }

    publishing {
        publications {
            mavenJava(MavenPublication) {
                groupId = project.group
                from components.java
                artifactId = jar.baseName
            }
        }
    }
}
