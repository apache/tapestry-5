plugins {
    id 'tapestry.testng-convention'
}

description = 'Tool to help migrate source code using Tapestry from one version to another. Initially built for 5.7.0'

tasks.withType(Test).configureEach {
    if (options instanceof TestNGOptions) {
        options {
            useDefaultListeners = true
        }
    }
}

tasks.named('jar', Jar) {
    manifest {
        attributes 'Main-Class': 'org.apache.tapestry5.versionmigrator.Main'
    }
}
