<document>
  <properties>
    <title>Tapestry Project Release Notes</title>
  </properties>
  <body>

    <h1> Release Notes - Tapestry - Version 5.0.5 </h1>



    <h2> Bug </h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1294">TAPESTRY-1294</a>] -
        Tapestry does not set an output encoding which prevents Unicode content from being output
        correctly </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1423">TAPESTRY-1423</a>] -
        Tapestry IoC fails to get the correct class from javassist.CtClass when the instance is
        already a proxy </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1425">TAPESTRY-1425</a>] - Eager
        Loaded service (builder) cannot use object injection </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1434">TAPESTRY-1434</a>] -
        Service builder methods do not allow services to be defined in terms of non-interface class,
        even though ServiceBinder does </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1443">TAPESTRY-1443</a>] -
        org.apache.tapestry.annotations.Service annotation is ignored </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1447">TAPESTRY-1447</a>] -
        Headers are not set appropiately to allow the browser to cache javascript resources. </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1451">TAPESTRY-1451</a>] - T5
        website: Broken Link to script.aculo.us </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1464">TAPESTRY-1464</a>] - Cannot
        Subclass TapestryFilter to add custom init() and destroy() logic </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1465">TAPESTRY-1465</a>] -
        BeanEditForm and Grid are not extensible in terms of supported property types to be editted
        or viewed </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1480">TAPESTRY-1480</a>] -
        Implement Radio component </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1481">TAPESTRY-1481</a>] -
        ActionLink and PageLink render an id attribute, but don't provide a clientId property,
        making it impossible to reference them in JavaScript </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1491">TAPESTRY-1491</a>] - No way
        to get the logical page name for a page instance </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1494">TAPESTRY-1494</a>] -
        Artifact snapshots are being deployed to the tapestry-repository, not the
        tapestry-snapshot-repository </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1497">TAPESTRY-1497</a>] -
        EagerLoad is too early for a normal Tapestry application </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1498">TAPESTRY-1498</a>] - nbsp
        in template causes exception in SAX Parser. </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1504">TAPESTRY-1504</a>] - When a
        Map is converted to a SelectModel, the keys are converted unnecessarily to strings </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1508">TAPESTRY-1508</a>] - NPE on
        console after using StreamResponse with image/jpeg via jfreecharts </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1511">TAPESTRY-1511</a>] -
        VerifyError when using inner classes inside components </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1528">TAPESTRY-1528</a>] - No way
        to cleanup the thread without access to the Registry </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1537">TAPESTRY-1537</a>] -
        Release notes for 5.0.4 claim that TAPESTRY-1294 is fixed, which it isn't </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1546">TAPESTRY-1546</a>] - No
        equivilent for @Component(inheritInformalParameters=true) </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1559">TAPESTRY-1559</a>] -
        application package initializer removed while merging svn </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1562">TAPESTRY-1562</a>] -
        Spurious warnings about missing component ids due to case-sensitive checking of template ids
        vs. declared components </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1571">TAPESTRY-1571</a>] -
        CheckForUpdatesFilter can cause deadlock </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1583">TAPESTRY-1583</a>] - The
        &quot;block:&quot; binding prefix may only reference blocks that appear before the
        reference in the template, an error occurs if the block is defined later in the template </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1585">TAPESTRY-1585</a>] -
        tapestry-upload has an incorrect manifest entry for the module class </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1590">TAPESTRY-1590</a>] - Page
        templates in WEB-INF located based on logical page name (which may not match the class name) </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1593">TAPESTRY-1593</a>] -
        Various typos in docs/comments </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1596">TAPESTRY-1596</a>] -
        Contributing a service to the Alias service configuration fails if the service uses a
        non-standard scope, such as perthread </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1602">TAPESTRY-1602</a>] -
        Returning false from setupRender() reports a &quot;no root element&quot; error in
        the logs </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1614">TAPESTRY-1614</a>] - No
        &quot;expires&quot; header should be set in asset download requests, as that can
        confuse the browser, preventing changes versions of assets from being downloaded </li>
    </ul>

    <h2> Improvement </h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1359">TAPESTRY-1359</a>] - The
        BeanEditForm component should attempt to create its object parameter if it is null </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1409">TAPESTRY-1409</a>] - Extend
        StreamResponse to support setting headers in the Response prior to streaming the contents
        from the InputStream </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1439">TAPESTRY-1439</a>] -
        Convert Tutorial from Pages/PDF to new module using APT format </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1457">TAPESTRY-1457</a>] - No way
        for PageLink to distinguish between an explicitly empty page activate context and normal
        delegation to the target page's passivate event </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1479">TAPESTRY-1479</a>] - It
        would be nice to have a pipeline between the Dispatchers and the RequestHandlers (for
        component action requests and for page render requests) </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1493">TAPESTRY-1493</a>] - Grid
        component should display sort icon next to all sortable fields </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1505">TAPESTRY-1505</a>] - The
        quickstart archetype should include an empty bind() method </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1523">TAPESTRY-1523</a>] - Split
        mock-control managing logic in TestBase so that it can be used in a JUnit test suite </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1572">TAPESTRY-1572</a>] -
        AbstractIntegrationTestSuite should mark setup() and cleanup() as alwaysRun </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1612">TAPESTRY-1612</a>] - Allow
        access to the PageTester registry </li>
    </ul>

    <h2> New Feature </h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1354">TAPESTRY-1354</a>] -
        Implement a file upload component </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1356">TAPESTRY-1356</a>] -
        Implement client-side field persistence </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1369">TAPESTRY-1369</a>] - There
        should be a global application-level message catalog for messages common to all pages
        &amp; components </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1370">TAPESTRY-1370</a>] - Add a
        component event result processor for Class instances </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1373">TAPESTRY-1373</a>] -
        Recreate T4's Palette component for T5 </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1446">TAPESTRY-1446</a>] -
        @Symbol annotation for injecting a specific symbol </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1463">TAPESTRY-1463</a>] - Way to
        inherit binding from containing component </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1466">TAPESTRY-1466</a>] -
        Support expansions inside ordinary attributes </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1492">TAPESTRY-1492</a>] - The
        Session interface needs methods for getting and setting the session timeout </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1503">TAPESTRY-1503</a>] -
        BeanEditForm should default its object parameter to container property that matches its id </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1610">TAPESTRY-1610</a>] -
        Implement regular expression based input validation (client and server) </li>
    </ul>

    <h2> Task </h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1485">TAPESTRY-1485</a>] - Remove
        the Any component --- not necessary because of expansions in attributes </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1501">TAPESTRY-1501</a>] - Remove
        Img component, not needed because expansions are allowed in attributes </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1566">TAPESTRY-1566</a>] -
        Hibernate configuration documentation is out of date / broken </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1570">TAPESTRY-1570</a>] - wrong
        link to RequestGlobals in the guide </li>
    </ul>

    <h2> Wish </h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1472">TAPESTRY-1472</a>] - The
        module and filter are coded against Spring's WebApplicationContext, but doesn't use any APIs
        not present in ApplicationContext </li>
    </ul>


    <h1>Release Notes - Tapestry - Version 5.0.4</h1>


    <h2>Bug</h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1263">TAPESTRY-1263</a>] - Can't
        use HTML entities in templates</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1264">TAPESTRY-1264</a>] - Can't
        specify DOCTYPE in template</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1317">TAPESTRY-1317</a>] -
        Service contributors are not case insensitive with respect to the service id.</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1333">TAPESTRY-1333</a>] - Cannot
        bundle component classes &amp; templates in WEB-INF/classes when deploying to Tomcat
        (&amp; JBoss)</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1337">TAPESTRY-1337</a>] -
        PageTester can't handle pages with context assets</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1338">TAPESTRY-1338</a>] -
        ApplicationStateObjects not properly instantiated when using PageTester</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1357">TAPESTRY-1357</a>] -
        Quickstart archetype still uses out-of-date @Id and @Contribute annotations</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1363">TAPESTRY-1363</a>] - Some
        of the Java comments in the generated AppModule class are out of date</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1371">TAPESTRY-1371</a>] - The
        Submit component should have a defer parameter, but just has a _defer private instance
        variable.</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1387">TAPESTRY-1387</a>] -
        @Inject should expose annotations on the field to the ObjectProvider</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1411">TAPESTRY-1411</a>] -
        PageLink component does not render informal parameters</li>
    </ul>

    <h2>Improvement</h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1365">TAPESTRY-1365</a>] -
        RandomDataSource should allow any type of value for the oneOf() method, not just String</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1424">TAPESTRY-1424</a>] -
        @OnEvent annotation should be simplified to specify at most one event and at most one
        component id</li>
    </ul>

    <h2>New Feature</h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1330">TAPESTRY-1330</a>] - The
        @Scope annotaton should be allowed on service implementation classes (in addition to service
        builder methods inside a module class)</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1331">TAPESTRY-1331</a>] - Need
        an @InjectValue annotation for cases where a value to insert contains a colon</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1353">TAPESTRY-1353</a>] -
        Include copies of common DTDs in the JAR such that the template parser does not need to
        access the network to parse templates with specific doctypes</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1368">TAPESTRY-1368</a>] - The
        @ApplicationState annotation should be capable of enhancing a boolean field to indicate
        whether the state object already exists</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1382">TAPESTRY-1382</a>] - Strip
        out duplication of names in the class name -> page name / component type conversion</li>
    </ul>



    <h1>Release Notes - Tapestry - Version 5.0.3</h1>

    <h2>Bug</h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1270">TAPESTRY-1270</a>] - The
        StringTranslator should return null when an empty text field is submitted with a form, not
        the empty string</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1275">TAPESTRY-1275</a>] -
        Recursive Components cause heap space overflow</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1282">TAPESTRY-1282</a>] - Assets
        should be streamed with an appropriate content type, even when the container is unable to
        provide the content type</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1291">TAPESTRY-1291</a>] - Race
        condition in IoC service creation can create runtime failures</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1297">TAPESTRY-1297</a>] -
        incorrect context generated for URLs with final slash</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1300">TAPESTRY-1300</a>] - Unit
        tests require english locale to run succesfully</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1303">TAPESTRY-1303</a>] - Update
        licences and notice files for external dependencies (javassist, etc.)</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1314">TAPESTRY-1314</a>] -
        ExceptionAnalyzer throws NPE when an exception message is null</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1316">TAPESTRY-1316</a>] -
        Address class loader issues inside JBoss</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1321">TAPESTRY-1321</a>] - JBoss
        deployment error</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1322">TAPESTRY-1322</a>] -
        Spurious errors in log concerning page "favicon"</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1329">TAPESTRY-1329</a>] - The
        favicon.ico file is not generated into the project by the quickstart archetype</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1343">TAPESTRY-1343</a>] - Under
        Tomcat, a root path URL such as http://.../context (without a trailing slash) causes a
        StringIndexOutOfBoundsException inside PageRenderDispatcher</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1344">TAPESTRY-1344</a>] - Render
        phase methods should be allowed to return a Renderable object</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1346">TAPESTRY-1346</a>] -
        tapestry-hibernate module depends on missing ComponentClassLocator service</li>
    </ul>

    <h2>Improvement</h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1025">TAPESTRY-1025</a>] - Add
        support for eager loading of services</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1295">TAPESTRY-1295</a>] - Event
        handling methods that have too many parameters for the event context should be silently
        skipped</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1298">TAPESTRY-1298</a>] -
        ExceptionReport can be too verbose and repetative</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1308">TAPESTRY-1308</a>] -
        Exceptions while building services are poorly reported</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1320">TAPESTRY-1320</a>] - Render
        phase BeginRender should respond to a "false" result by switching to phase AfterRender
        (rather than phase CleanupRender).</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1323">TAPESTRY-1323</a>] -
        Support caseless mapped service configurations </li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1335">TAPESTRY-1335</a>] - The
        "infrastructure:" object provider prefix is too long and the name is confusing, rename to
        "alias:"</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1339">TAPESTRY-1339</a>] - Rework
        Tapestry IoC to remove the concept of module ids and qualified service ids</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1342">TAPESTRY-1342</a>] - When
        an exception is reported concerning a particular method, the string identifying the method
        should include the file name and line number (if available)</li>
    </ul>

    <h2>New Feature</h2>
    <ul>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1276">TAPESTRY-1276</a>] - If
        component should include an optional negate parameter</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1284">TAPESTRY-1284</a>] -
        Tapestry Spring integration module</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1292">TAPESTRY-1292</a>] - Allow
        lists to be used as select models</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1302">TAPESTRY-1302</a>] -
        JavaScript support</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1311">TAPESTRY-1311</a>] -
        Identify type of component via tag element name in templates</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1319">TAPESTRY-1319</a>] -
        tapestry.InfrastructureOverrides is not yet implemented</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1325">TAPESTRY-1325</a>] - Add an
        "asset:" object provider, to simplfy injecting assets into services</li>
      <li>[<a href="https://issues.apache.org/jira/browse/TAPESTRY-1341">TAPESTRY-1341</a>] - Allow
        service builders named "build" and determine service id from the result type</li>
    </ul>

  </body>
</document>
